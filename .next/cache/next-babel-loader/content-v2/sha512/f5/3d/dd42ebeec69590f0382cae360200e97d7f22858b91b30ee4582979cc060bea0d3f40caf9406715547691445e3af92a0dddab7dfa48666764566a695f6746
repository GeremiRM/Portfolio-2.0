{"ast":null,"code":"import { useCallback, useEffect, useRef, useState } from \"react\";\n\nfunction useWindowSize() {\n  const isClient = false;\n  const isIOS = false && typeof window.navigator !== \"undefined\" ? navigator.userAgent.match(/iphone|ipod|ipad/i) : undefined;\n  const axis = useRef(() => ({\n    w: 0,\n    h: 0\n  }));\n  const dimensions = useRef(() => Math.abs(window.orientation));\n  const createRuler = useCallback(() => {\n    let ruler = document.createElement(\"div\");\n    ruler.style.position = \"fixed\";\n    ruler.style.height = \"100vh\";\n    ruler.style.width = 0;\n    ruler.style.top = 0;\n    document.documentElement.appendChild(ruler); // Set cache conscientious of device orientation\n\n    dimensions.current.w = axis.current === 90 ? ruler.offsetHeight : window.innerWidth;\n    dimensions.current.h = axis.current === 90 ? window.innerWidth : ruler.offsetHeight; // Clean up after ourselves\n\n    document.documentElement.removeChild(ruler);\n    ruler = null;\n  }, []); // Get the actual height on iOS Safari\n\n  const getHeight = useCallback(() => {\n    if (!isClient) return 0;\n\n    if (isIOS) {\n      createRuler();\n\n      if (Math.abs(window.orientation) !== 90) {\n        return dimensions.current.h;\n      }\n\n      return dimensions.current.w;\n    }\n\n    return window.innerHeight;\n  }, [createRuler, isClient, isIOS]);\n  const getSize = useCallback(() => {\n    return {\n      width: isClient ? window.innerWidth : 0,\n      height: getHeight()\n    };\n  }, [getHeight, isClient]);\n  const {\n    0: windowSize,\n    1: setWindowSize\n  } = useState(() => getSize());\n  useEffect(() => {\n    const handleResize = () => {\n      setWindowSize(getSize());\n    };\n\n    window.addEventListener(\"resize\", handleResize);\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, [getSize, isClient]);\n  return windowSize;\n}\n\nexport default useWindowSize;","map":{"version":3,"sources":["/home/rinspiron/Desktop/portfolio/portfolio/components/hooks/useWindowSize.js"],"names":["useCallback","useEffect","useRef","useState","useWindowSize","isClient","isIOS","window","navigator","userAgent","match","undefined","axis","w","h","dimensions","Math","abs","orientation","createRuler","ruler","document","createElement","style","position","height","width","top","documentElement","appendChild","current","offsetHeight","innerWidth","removeChild","getHeight","innerHeight","getSize","windowSize","setWindowSize","handleResize","addEventListener","removeEventListener"],"mappings":"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","sourcesContent":["import { useCallback, useEffect, useRef, useState } from \"react\";\n\nfunction useWindowSize() {\n  const isClient = typeof window === \"object\";\n  const isIOS =\n    typeof window !== \"undefined\" && typeof window.navigator !== \"undefined\"\n      ? navigator.userAgent.match(/iphone|ipod|ipad/i)\n      : undefined;\n  const axis = useRef(() => ({ w: 0, h: 0 }));\n  const dimensions = useRef(() => Math.abs(window.orientation));\n\n  const createRuler = useCallback(() => {\n    let ruler = document.createElement(\"div\");\n\n    ruler.style.position = \"fixed\";\n    ruler.style.height = \"100vh\";\n    ruler.style.width = 0;\n    ruler.style.top = 0;\n\n    document.documentElement.appendChild(ruler);\n\n    // Set cache conscientious of device orientation\n    dimensions.current.w =\n      axis.current === 90 ? ruler.offsetHeight : window.innerWidth;\n    dimensions.current.h =\n      axis.current === 90 ? window.innerWidth : ruler.offsetHeight;\n\n    // Clean up after ourselves\n    document.documentElement.removeChild(ruler);\n    ruler = null;\n  }, []);\n\n  // Get the actual height on iOS Safari\n  const getHeight = useCallback(() => {\n    if (!isClient) return 0;\n\n    if (isIOS) {\n      createRuler();\n\n      if (Math.abs(window.orientation) !== 90) {\n        return dimensions.current.h;\n      }\n\n      return dimensions.current.w;\n    }\n\n    return window.innerHeight;\n  }, [createRuler, isClient, isIOS]);\n\n  const getSize = useCallback(() => {\n    return {\n      width: isClient ? window.innerWidth : 0,\n      height: getHeight(),\n    };\n  }, [getHeight, isClient]);\n\n  const [windowSize, setWindowSize] = useState(() => getSize());\n\n  useEffect(() => {\n    const handleResize = () => {\n      setWindowSize(getSize());\n    };\n\n    window.addEventListener(\"resize\", handleResize);\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, [getSize, isClient]);\n\n  return windowSize;\n}\n\nexport default useWindowSize;\n"]},"metadata":{},"sourceType":"module"}